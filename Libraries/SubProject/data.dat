<!DOCTYPE html><html xmlns:cc="http://creativecommons.org/ns#"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# medium-com: http://ogp.me/ns/fb/medium-com#"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=contain"><title>git subtrees: a tutorial – Vinícius Baggio Fuentes – Medium</title><link rel="canonical" href="https://medium.com/@v/git-subtrees-a-tutorial-6ff568381844"><meta name="title" content="git subtrees: a tutorial – Vinícius Baggio Fuentes – Medium"><meta name="referrer" content="unsafe-url"><meta name="description" content="This is a tutorial on how to use git subtrees. In this example, we will work on “parent”, the repository that consumes a library called “my-subproject”. To understand why you would use git subtrees…"><meta name="theme-color" content="#000000"><meta property="og:title" content="git subtrees: a tutorial – Vinícius Baggio Fuentes – Medium"><meta property="twitter:title" content="git subtrees: a tutorial – Vinícius Baggio Fuentes – Medium"><meta property="og:url" content="https://medium.com/@v/git-subtrees-a-tutorial-6ff568381844"><meta property="og:image" content="https://cdn-images-1.medium.com/max/1200/1*ukY5jD9s3hdlos_qUCX87g.png"><meta property="fb:app_id" content="542599432471018"><meta property="og:description" content="Scenarios on git subtrees"><meta name="twitter:description" content="Scenarios on git subtrees"><meta name="twitter:image:src" content="https://cdn-images-1.medium.com/max/1200/1*ukY5jD9s3hdlos_qUCX87g.png"><link rel="publisher" href="https://plus.google.com/103654360130207659246"><link rel="author" href="https://medium.com/@v"><meta property="author" content="Vinícius Baggio Fuentes"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta property="article:publisher" content="https://www.facebook.com/medium"><meta property="article:author" content="https://medium.com/@v"><meta name="robots" content="index, follow"><meta property="article:published_time" content="2014-05-14T17:16:00.720Z"><meta name="twitter:creator" content="@vinibaggio"><meta name="twitter:site" content="@Medium"><meta property="og:site_name" content="Medium"><meta name="twitter:label1" value="Reading time"><meta name="twitter:data1" value="6 min read"><meta name="twitter:app:name:iphone" content="Medium"><meta name="twitter:app:id:iphone" content="828256236"><meta name="twitter:app:url:iphone" content="medium://p/6ff568381844"><meta property="al:ios:app_name" content="Medium"><meta property="al:ios:app_store_id" content="828256236"><meta property="al:android:package" content="com.medium.reader"><meta property="al:android:app_name" content="Medium"><meta property="al:ios:url" content="medium://p/6ff568381844"><meta property="al:android:url" content="medium://p/6ff568381844"><meta property="al:web:url" content="https://medium.com/@v/git-subtrees-a-tutorial-6ff568381844"><link rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml" /><link rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/6ff568381844" /><script type="application/ld+json">{"@context":"http://schema.org","@type":"NewsArticle","image":{"@type":"ImageObject","width":545,"height":106,"url":"https://cdn-images-1.medium.com/max/1090/1*OMF3fSqH8t4xBJ9-6oZDZw.png"},"url":"https://medium.com/@v/git-subtrees-a-tutorial-6ff568381844","dateCreated":"2014-05-14T17:16:00.720Z","datePublished":"2014-05-14T17:16:00.720Z","dateModified":"2018-06-20T11:25:29.172Z","headline":"git subtrees: a tutorial","name":"git subtrees: a tutorial","thumbnailUrl":"https://cdn-images-1.medium.com/max/1090/1*OMF3fSqH8t4xBJ9-6oZDZw.png","keywords":["LockedPostSource:0","Elevated:false","LayerCake:0"],"author":{"@type":"Person","name":"Vinícius Baggio Fuentes","url":"https://medium.com/@v"},"creator":["Vinícius Baggio Fuentes"],"publisher":{"@type":"Organization","name":"Medium","url":"https://medium.com/","logo":{"@type":"ImageObject","width":308,"height":60,"url":"https://cdn-images-1.medium.com/max/616/1*OMF3fSqH8t4xBJ9-6oZDZw.png"}},"mainEntityOfPage":"https://medium.com/@v/git-subtrees-a-tutorial-6ff568381844"}</script><meta name="parsely-link" content="https://medium.com/@v/git-subtrees-a-tutorial-6ff568381844"><link rel="stylesheet" href="https://cdn-static-1.medium.com/_/fp/css/main-branding-base.2lt-P513BKe-wmqy3beEEA.css"><script>if (window.top !== window.self) window.top.location = window.self.location.href;var OB_startTime = new Date().getTime(); var OB_loadErrors = []; function _onerror(e) { OB_loadErrors.push(e) }; if (document.addEventListener) document.addEventListener("error", _onerror, true); else if (document.attachEvent) document.attachEvent("onerror", _onerror); function _asyncScript(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("script"); s.type = "text/javascript"; s.async = true; s.src = u; f.parentNode.insertBefore(s, f);}function _asyncStyles(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("link"); s.rel = "stylesheet"; s.href = u; f.parentNode.insertBefore(s, f); return s}(new Image()).src = "/_/stat?event=pixel.load&origin=" + encodeURIComponent(location.origin);</script><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date; ga("create", "UA-24232453-2", "auto", {"allowLinker": true, "legacyCookieDomain": window.location.hostname}); ga("send", "pageview");</script><script async src="https://www.google-analytics.com/analytics.js"></script><script>(function () {var height = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight; var width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth; document.write("<style>section.section-image--fullBleed.is-backgrounded {padding-top: " + Math.round(1.1 * height) + "px;}section.section-image--fullScreen.is-backgrounded, section.section-image--coverFade.is-backgrounded {min-height: " + height + "px; padding-top: " + Math.round(0.5 * height) + "px;}.u-height100vh {height: " + height + "px !important;}.u-height110vh {height: " + Math.round(1.1 * height) + "px !important;}.u-minHeight100vh {min-height: " + height + "px !important;}.u-maxHeight100vh {max-height: " + height + "px !important;}section.section-image--coverFade {height: " + height + "px;}.section-aspectRatioViewportPlaceholder, .section-aspectRatioViewportCropPlaceholder {max-height: " + height + "px;}.section-aspectRatioViewportBottomSpacer, .section-aspectRatioViewportBottomPlaceholder {max-height: " + Math.round(0.5 * height) + "px;}.zoomable:before {top: " + (-1 * height) + "px; left: " + (-1 * width) + "px; padding: " + height + "px " + width + "px;}</style>");})()</script><!--[if lt IE 9]><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js"></script><![endif]--><link rel="icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico" class="js-favicon"><link rel="apple-touch-icon" sizes="152x152" href="https://cdn-images-1.medium.com/fit/c/304/304/1*8I-HPL0bfoIzGied-dzOvA.png"><link rel="apple-touch-icon" sizes="120x120" href="https://cdn-images-1.medium.com/fit/c/240/240/1*8I-HPL0bfoIzGied-dzOvA.png"><link rel="apple-touch-icon" sizes="76x76" href="https://cdn-images-1.medium.com/fit/c/152/152/1*8I-HPL0bfoIzGied-dzOvA.png"><link rel="apple-touch-icon" sizes="60x60" href="https://cdn-images-1.medium.com/fit/c/120/120/1*8I-HPL0bfoIzGied-dzOvA.png"><link rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg" color="#171717"></head><body itemscope class=" postShowScreen v-glyph v-glyph--m2 is-noJs"><script>document.body.className = document.body.className.replace(/(^|\s)is-noJs(\s|$)/, "$1is-js$2")</script><div class="site-main" id="container"><div class="butterBar butterBar--error"></div><div class="surface"><div id="prerendered" class="screenContent"><canvas class="canvas-renderer"></canvas><div class="container u-maxWidth740 u-xs-margin0 notesPositionContainer js-notesPositionContainer"></div><div class="metabar u-clearfix js-metabar u-boxShadow4px12pxBlackLightest u-fixed u-backgroundTransparentWhiteDarkest u-xs-sizeFullViewportWidth"><div class="branch-journeys-top"></div><div class="js-metabarMiddle metabar-inner u-marginAuto u-maxWidth1032 u-flexCenter u-justifyContentSpaceBetween u-height65 u-xs-height56 u-paddingHorizontal20"><div class="metabar-block u-flex1 u-flexCenter"><div class="u-xs-hide js-metabarLogoLeft"><a href="https://medium.com/" data-log-event="home" class="siteNav-logo u-fillTransparentBlackDarker u-flex0 u-flexCenter u-paddingTop0"><span class="svgIcon svgIcon--logoMonogram svgIcon--45px is-flushLeft u-flex0 u-flexCenter u-paddingTop0"><svg class="svgIcon-use" width="45" height="45" ><path d="M5 40V5h35v35H5zm8.56-12.627c0 .555-.027.687-.318 1.03l-2.457 2.985v.396h6.974v-.396l-2.456-2.985c-.291-.343-.344-.502-.344-1.03V18.42l6.127 13.364h.714l5.256-13.364v10.644c0 .29 0 .342-.185.528l-1.848 1.796v.396h9.19v-.396l-1.822-1.796c-.184-.186-.21-.238-.21-.528V15.937c0-.291.026-.344.21-.528l1.823-1.797v-.396h-6.471l-4.622 11.542-5.203-11.542h-6.79v.396l2.14 2.64c.239.292.291.37.291.768v10.353z"/></svg></span><span class="u-textScreenReader">Homepage</span></a></div><div class="u-xs-show js-metabarLogoLeft"><a href="https://medium.com/" data-log-event="home" class="siteNav-logo u-fillTransparentBlackDarker u-flex0 u-flexCenter u-paddingTop0"><span class="svgIcon svgIcon--logoMonogram svgIcon--45px is-flushLeft u-flex0 u-flexCenter u-paddingTop0"><svg class="svgIcon-use" width="45" height="45" ><path d="M5 40V5h35v35H5zm8.56-12.627c0 .555-.027.687-.318 1.03l-2.457 2.985v.396h6.974v-.396l-2.456-2.985c-.291-.343-.344-.502-.344-1.03V18.42l6.127 13.364h.714l5.256-13.364v10.644c0 .29 0 .342-.185.528l-1.848 1.796v.396h9.19v-.396l-1.822-1.796c-.184-.186-.21-.238-.21-.528V15.937c0-.291.026-.344.21-.528l1.823-1.797v-.396h-6.471l-4.622 11.542-5.203-11.542h-6.79v.396l2.14 2.64c.239.292.291.37.291.768v10.353z"/></svg></span><span class="u-textScreenReader">Homepage</span></a></div></div><div class="metabar-block u-flex0"><div class="buttonSet buttonSet--wide"><a class="button button--chromeless u-baseColor--buttonNormal u-xs-hide js-upgradeMembershipAction"   href="https://medium.com/membership?source=upgrade_membership---nav_full">Become a member</a><a class="button button--primary button--chromeless u-accentColor--buttonNormal is-inSiteNavBar u-xs-hide js-signInButton"   href="https://medium.com/m/signin?redirect=https%3A%2F%2Fmedium.com%2F%40v%2Fgit-subtrees-a-tutorial-6ff568381844&amp;source=--------------------------nav_reg&amp;operation=login" data-action="sign-in-prompt" data-redirect="https://medium.com/@v/git-subtrees-a-tutorial-6ff568381844" data-action-source="--------------------------nav_reg">Sign in</a><a class="button button--primary button--withChrome u-accentColor--buttonNormal is-inSiteNavBar js-signUpButton"   href="https://medium.com/m/signin?redirect=https%3A%2F%2Fmedium.com%2F%40v%2Fgit-subtrees-a-tutorial-6ff568381844&amp;source=--------------------------nav_reg&amp;operation=register" data-action="sign-up-prompt" data-redirect="https://medium.com/@v/git-subtrees-a-tutorial-6ff568381844" data-action-source="--------------------------nav_reg">Get started</a></div></div></div></div><div class="metabar metabar--spacer js-metabarSpacer u-height65 u-xs-height56"></div><main role="main"><article class=" u-minHeight100vhOffset65 u-overflowHidden postArticle postArticle--full u-marginBottom40"  lang="en"><div class="postArticle-content js-postField js-notesSource js-trackPostScrolls"  data-post-id="6ff568381844" data-source="post_page" data-tracking-context="postPage"><section name="27fc" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h1 name="title" id="title" class="graf graf--h2 graf--leading graf--title">git subtrees: a tutorial</h1><h2 name="subtitle" id="subtitle" class="graf graf--h4 graf-after--h2 graf--subtitle">Scenarios on git subtrees</h2><div class="uiScale uiScale-ui--regular uiScale-caption--regular u-flexCenter u-marginVertical24 u-fontSize15 js-postMetaLockup"><div class="u-flex0"><a class="link u-baseColor--link avatar"   href="https://medium.com/@v?source=post_header_lockup" data-action="show-user-card" data-action-source="post_header_lockup" data-action-value="1e4d0b0e4e9" data-action-type="hover" data-user-id="1e4d0b0e4e9" dir="auto"><img  src="https://cdn-images-1.medium.com/fit/c/100/100/1*5z60psJhcc-mAOClIOStOQ.jpeg" class="avatar-image u-size50x50" alt="Go to the profile of Vinícius Baggio Fuentes"></a></div><div class="u-flex1 u-paddingLeft15 u-overflowHidden"><div class="u-paddingBottom3"><a class="ds-link ds-link--styleSubtle ui-captionStrong u-inlineBlock link link--darken link--darker"   href="https://medium.com/@v" data-action="show-user-card" data-action-value="1e4d0b0e4e9" data-action-type="hover" data-user-id="1e4d0b0e4e9" dir="auto">Vinícius Baggio Fuentes</a><span class="followState js-followState" data-user-id="1e4d0b0e4e9"><button class="button button--smallest u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton u-marginLeft10 u-xs-hide"  data-action="sign-up-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-redirect="https://medium.com/@v/git-subtrees-a-tutorial-6ff568381844" data-action-source="post_header_lockup"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--smallest button--dark u-noUserSelect button--withChrome u-accentColor--buttonDark button--follow js-followButton u-marginLeft10 u-xs-hide"  data-action="sign-up-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/1e4d0b0e4e9" data-action-source="post_header_lockup-1e4d0b0e4e9-------------------------follow_byline"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="ui-caption postMetaInline js-testPostMetaInlineSupplemental"><time datetime="2014-05-14T17:16:00.720Z">May 14, 2014</time><span class="middotDivider u-fontSize12"></span><span class="readingTime" title="6 min read"></span></div></div></div><p name="cc2e" id="cc2e" class="graf graf--p graf-after--h4 graf--trailing">This is a tutorial on how to use git subtrees. In this example, we will work on “parent”, the repository that consumes a library called “my-subproject”. To understand why you would use git subtrees, read my article <a href="https://medium.com/p/8f8f26965c76" data-href="https://medium.com/p/8f8f26965c76" class="markup--anchor markup--p-anchor" target="_blank">Modularizing Medium’s iOS codebase</a>.</p></div></div></section><section name="7fab" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="c1ae" id="c1ae" class="graf graf--p graf--leading">There is a repo called “parent” and we are about to import a library called “my-subproject”. Here’s how they look:</p><p name="2304" id="2304" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">parent:</strong></p><figure name="4f1a" id="4f1a" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder"><img class="graf-image" data-image-id="1*ukY5jD9s3hdlos_qUCX87g.png" src="https://cdn-images-1.medium.com/max/1600/1*ukY5jD9s3hdlos_qUCX87g.png"></div><figcaption class="imageCaption">Parent’s commits</figcaption></figure><figure name="6008" id="6008" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder"><img class="graf-image" data-image-id="1*l4IoeRa16jb9jwn5eZJkaw.png" src="https://cdn-images-1.medium.com/max/1600/1*l4IoeRa16jb9jwn5eZJkaw.png"></div><figcaption class="imageCaption">Parent’s files</figcaption></figure><p name="e90e" id="e90e" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">my-subproject:</strong></p><figure name="3d86" id="3d86" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder"><img class="graf-image" data-image-id="1*NSCl1YErXGdWbDu--6eYXw.png" src="https://cdn-images-1.medium.com/max/1600/1*NSCl1YErXGdWbDu--6eYXw.png"></div></figure><p name="c9a7" id="c9a7" class="graf graf--p graf-after--figure"><em class="markup--em markup--p-em">my-subproject’s commits</em></p><figure name="6e04" id="6e04" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder"><img class="graf-image" data-image-id="1*vsxYr60JBJLJC4lvOghRZg.png" src="https://cdn-images-1.medium.com/max/1600/1*vsxYr60JBJLJC4lvOghRZg.png"></div><figcaption class="imageCaption">my-subproject’s file</figcaption></figure><p name="1e8b" id="1e8b" class="graf graf--p graf-after--figure">Observe that I added [parent] and [vinibaggio/my-subproject] to the commit titles, manually, just to improve visibility of where these commits are coming from.</p><p name="37fb" id="37fb" class="graf graf--p graf-after--p">Now, I want to add my-subproject to parent, using <strong class="markup--strong markup--p-strong">git subtrees. </strong>To do that, I have to use a command called “git subtree add”:</p><pre name="40d8" id="40d8" class="graf graf--pre graf-after--p">git remote add my-subtree git@github.com:vinibaggio/my-subproject.git<br>git subtree add —-prefix=vendor/ my-subtree master</pre><p name="4d88" id="4d88" class="graf graf--p graf-after--pre graf--trailing">Notice that I added the library’s remote as if it was my own. This will significantly simplify the commands, so that I don’t have to specify the repository’s address all the time. Then, you use <strong class="markup--strong markup--p-strong">subtree add </strong>to add that repo’s code into a path in the parent’s project, specified by <strong class="markup--strong markup--p-strong">prefix. </strong>The last parameter, <strong class="markup--strong markup--p-strong">master</strong>, is the branch you are pulling code from (my-subtree/master).</p></div></div></section><section name="d159" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="e260" id="e260" class="graf graf--p graf--leading">Now, add the origin and then add the subtree will look like this:</p></div><div class="section-inner sectionLayout--outsetColumn"><figure name="a11a" id="a11a" class="graf graf--figure graf--layoutOutsetCenter graf-after--p"><div class="aspectRatioPlaceholder"><img class="graf-image" data-image-id="1*0ROYrrYp1Jj0KH_m-O6yrQ.png" src="https://cdn-images-1.medium.com/max/2000/1*0ROYrrYp1Jj0KH_m-O6yrQ.png"></div></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="549e" id="549e" class="graf graf--p graf-after--figure">After pushing to master, here’s how <strong class="markup--strong markup--p-strong">parent </strong>looks:</p><figure name="85c2" id="85c2" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder"><img class="graf-image" data-image-id="1*UdN0fmd50GutD04Psc2oAg.png" src="https://cdn-images-1.medium.com/max/1600/1*UdN0fmd50GutD04Psc2oAg.png"></div><figcaption class="imageCaption">Parent, after adding the subtree</figcaption></figure><figure name="6213" id="6213" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder"><img class="graf-image" data-image-id="1*swnWCkQQTpGJgDBTV2sEYQ.png" src="https://cdn-images-1.medium.com/max/1600/1*swnWCkQQTpGJgDBTV2sEYQ.png"></div><figcaption class="imageCaption">parent/vendor</figcaption></figure><figure name="7d51" id="7d51" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder"><img class="graf-image" data-image-id="1*XqIwX3FhyR9PTxdtNiw2EA.png" src="https://cdn-images-1.medium.com/max/1600/1*XqIwX3FhyR9PTxdtNiw2EA.png"></div><figcaption class="imageCaption">Note how the commits are interwoven. Also, initial commit is the commit generated by Github</figcaption></figure><p name="9685" id="9685" class="graf graf--p graf-after--figure">No changes were done to <strong class="markup--strong markup--p-strong">my-subproject.</strong></p><h4 name="1146" id="1146" class="graf graf--h4 graf-after--p"><strong class="markup--strong markup--h4-strong">Changing my-subproject from parent</strong></h4><p name="fe09" id="fe09" class="graf graf--p graf-after--h4">Now I need to get some work done, so I add new files to my-subproject and add them to my project, working directly from <strong class="markup--strong markup--p-strong">parent</strong>:</p></div><div class="section-inner sectionLayout--outsetColumn"><figure name="747e" id="747e" class="graf graf--figure graf--layoutOutsetCenter graf-after--p"><div class="aspectRatioPlaceholder"><img class="graf-image" data-image-id="1*ZWVE9u9b8q5yNpyQSd7B3w.png" src="https://cdn-images-1.medium.com/max/2000/1*ZWVE9u9b8q5yNpyQSd7B3w.png"></div></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="0c9a" id="0c9a" class="graf graf--p graf-after--figure">After pushing to <strong class="markup--strong markup--p-strong">parent</strong>, here’s how both parent and my-subproject look:</p><p name="fa86" id="fa86" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">parent:</strong></p><figure name="8c06" id="8c06" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder"><img class="graf-image" data-image-id="1*SwcWOICLUnN84enA3Z7Tcg.png" src="https://cdn-images-1.medium.com/max/1600/1*SwcWOICLUnN84enA3Z7Tcg.png"></div><figcaption class="imageCaption">Parent with the new commit</figcaption></figure><p name="5635" id="5635" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">my-subproject </strong>has no changes:</p><figure name="1e46" id="1e46" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder"><img class="graf-image" data-image-id="1*c96lCnpDAQJM_fpUgtbjDQ.png" src="https://cdn-images-1.medium.com/max/1600/1*c96lCnpDAQJM_fpUgtbjDQ.png"></div></figure><p name="977e" id="977e" class="graf graf--p graf-after--figure">You can keep working on the parent project as much as you need to. For instance, I am going to create a commit that has changes both in <strong class="markup--strong markup--p-strong">parent </strong>and<strong class="markup--strong markup--p-strong">my-subproject:</strong></p></div><div class="section-inner sectionLayout--outsetColumn"><figure name="7244" id="7244" class="graf graf--figure graf--layoutOutsetCenter graf-after--p"><div class="aspectRatioPlaceholder"><img class="graf-image" data-image-id="1*KaxgIgIsPnd8xwNrmHalcg.png" src="https://cdn-images-1.medium.com/max/2000/1*KaxgIgIsPnd8xwNrmHalcg.png"></div></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="6806" id="6806" class="graf graf--p graf-after--figure">Now we want to be good people and contribute our changes to the library back to the original repository, which doesn’t need to happen too often. But when it does, you have to use <strong class="markup--strong markup--p-strong">git subtree push. </strong>Let’s push our changes back to <strong class="markup--strong markup--p-strong">my-subproject</strong>:</p></div><div class="section-inner sectionLayout--outsetColumn"><figure name="76d5" id="76d5" class="graf graf--figure graf--layoutOutsetCenter graf-after--p"><div class="aspectRatioPlaceholder"><img class="graf-image" data-image-id="1*CI2IjR9cSFZAsgMLUqo6AQ.png" src="https://cdn-images-1.medium.com/max/2000/1*CI2IjR9cSFZAsgMLUqo6AQ.png"></div></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="214c" id="214c" class="graf graf--p graf-after--figure">See those -n 1…5 lines? This is git going through the commits and picking the changes that should go to the repo. At the end, there are two commits that needs to be pushed to vinny-some-awesome-work, in the library directory. But! What happens to the other files, outside of the prefix directory? It gets filtered out.</p><p name="e24b" id="e24b" class="graf graf--p graf-after--p">Let’s open a pull request in my-subproject from this branch and observe the changes:</p><figure name="a7d3" id="a7d3" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder"><img class="graf-image" data-image-id="1*j6703oPWVeSloiTqgWWQqA.png" src="https://cdn-images-1.medium.com/max/1600/1*j6703oPWVeSloiTqgWWQqA.png"></div><figcaption class="imageCaption">The PR. There are no actual changes since all the files are blank</figcaption></figure><p name="aaad" id="aaad" class="graf graf--p graf-after--figure">Let’s see the changed files:</p><figure name="0dff" id="0dff" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder"><img class="graf-image" data-image-id="1*kVmH9UKoQANCjbkPsc9_Hw.png" src="https://cdn-images-1.medium.com/max/1600/1*kVmH9UKoQANCjbkPsc9_Hw.png"></div></figure><p name="be9b" id="be9b" class="graf graf--p graf-after--figure">It seems everything we expected, so I merge the project.</p><h4 name="df3e" id="df3e" class="graf graf--h4 graf-after--p"><strong class="markup--strong markup--h4-strong">Bringing updates from my-subproject back to parent</strong></h4><p name="9fdf" id="9fdf" class="graf graf--p graf-after--h4">Imagine that someone made awesome contributions to <strong class="markup--strong markup--p-strong">my-subproject </strong>and you want to pull these new changes back into parent:</p></div><div class="section-inner sectionLayout--outsetColumn"><figure name="993c" id="993c" class="graf graf--figure graf--layoutOutsetCenter graf-after--p"><div class="aspectRatioPlaceholder"><img class="graf-image" data-image-id="1*a86NjGQlMqbPWcdGOdziDA.png" src="https://cdn-images-1.medium.com/max/2000/1*a86NjGQlMqbPWcdGOdziDA.png"></div><figcaption class="imageCaption">Pushing new changes to my-subproject directly</figcaption></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="8aa5" id="8aa5" class="graf graf--p graf-after--figure">Now, I am in my feature branch and created these two commits:</p><pre name="47f5" id="47f5" class="graf graf--pre graf-after--p">f455188 Implementing feature<br>a75255c Introducing bug</pre><p name="e4fb" id="e4fb" class="graf graf--p graf-after--pre">Let’s import our new changes with <strong class="markup--strong markup--p-strong">git pull</strong>:</p><pre name="d794" id="d794" class="graf graf--pre graf-after--p"> git subtree pull —prefix=vendor my-subtree master</pre><p name="cd1d" id="cd1d" class="graf graf--p graf-after--pre">This will execute a pull, using the “subtree” merge strategy. It is necessary so we tell git to inspect the patches and identify it should be applying in a subtree of our current project (<strong class="markup--strong markup--p-strong">parent). </strong>Quoting the <a href="http://git-scm.com/book/ch6-7.html" data-href="http://git-scm.com/book/ch6-7.html" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Git handbook</a>: “it’s pretty amazing”.</p><p name="f981" id="f981" class="graf graf--p graf-after--p">This will generate a merge commit, like so (note that I customized the merge commit message):</p></div><div class="section-inner sectionLayout--outsetColumn"><figure name="d719" id="d719" class="graf graf--figure graf--layoutOutsetCenter graf-after--p"><div class="aspectRatioPlaceholder"><img class="graf-image" data-image-id="1*bqmBo6P4Nk461ViQ7grM4g.png" src="https://cdn-images-1.medium.com/max/2000/1*bqmBo6P4Nk461ViQ7grM4g.png"></div><figcaption class="imageCaption">pulling changes from my-subproject into parent</figcaption></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="8a11" id="8a11" class="graf graf--p graf-after--figure">This is the end result of merging this branch into <strong class="markup--strong markup--p-strong">master.</strong></p></div><div class="section-inner sectionLayout--outsetColumn"><figure name="5a3e" id="5a3e" class="graf graf--figure graf--layoutOutsetCenter graf-after--p"><div class="aspectRatioPlaceholder"><img class="graf-image" data-image-id="1*sEUDJWvTDUT_y20dxDl1tg.png" src="https://cdn-images-1.medium.com/max/2000/1*sEUDJWvTDUT_y20dxDl1tg.png"></div><figcaption class="imageCaption">State of master</figcaption></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="3f78" id="3f78" class="graf graf--p graf-after--figure">Notice the commits near the highlighted area. See that the commits are repeated? This is git doing its magic on the pull with subtree strategy. It will bring <strong class="markup--strong markup--p-strong">all </strong>the commits from the other repo and will stay together with your own repo’s versions of it.</p><p name="9ba5" id="9ba5" class="graf graf--p graf-after--p">For this reason, it’s good practice to use the “squash” option when merging changes back. I reverted the changes so parent#master looks like this:</p><figure name="de4b" id="de4b" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder"><img class="graf-image" data-image-id="1*cZQmZc2q25txX9YpsAreKA.png" src="https://cdn-images-1.medium.com/max/1600/1*cZQmZc2q25txX9YpsAreKA.png"></div><figcaption class="imageCaption">Master reverted</figcaption></figure><p name="ce37" id="ce37" class="graf graf--p graf-after--figure">I then recreated the branch “vinny-feature” with the same commits, but now using the squash flag:</p><pre name="f808" id="f808" class="graf graf--pre graf-after--p">git subtree pull —prefix=vendor —squash my-subtree master</pre><p name="c6e5" id="c6e5" class="graf graf--p graf-after--pre">After merging, this is how <strong class="markup--strong markup--p-strong">master </strong>looks:</p><figure name="cd08" id="cd08" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder"><img class="graf-image" data-image-id="1*FYnAJ01pZgH2jtdcKXRVpQ.png" src="https://cdn-images-1.medium.com/max/1600/1*FYnAJ01pZgH2jtdcKXRVpQ.png"></div><figcaption class="imageCaption">State of master after merging</figcaption></figure><p name="9d6d" id="9d6d" class="graf graf--p graf-after--figure">Long story short, if you pull changes, make sure you merge the commits with squash. Another good practice to avoid this repetition is to, whenever you make changes to the subprojects, make individual commits. This is not obligatory, but it will make sure there is no repetition of commit names, and also, when pushed back to the original repository, they will make sense on their own.</p><h4 name="4e99" id="4e99" class="graf graf--h4 graf-after--p"><strong class="markup--strong markup--h4-strong">Advantages of using subtrees</strong></h4><p name="c48c" id="c48c" class="graf graf--p graf-after--h4">The advantages of subtrees over submodules are mostly related to work flow. Since subtrees require no change to the project’s workflow and lack of necessity of introducing new commands, it makes the life of the developers much, much easier. Merge conflicts will make (more) sense and they’re much easier to work with.</p><h4 name="7635" id="7635" class="graf graf--h4 graf-after--p"><strong class="markup--strong markup--h4-strong">Caveats</strong></h4><p name="8fcf" id="8fcf" class="graf graf--p graf-after--h4">Contributing back and forth between repos is definitely more complicated. To simplify potential merge conflicts, pulling changes from the libraries should be done in separate pull requests. Also, rebasing after subtree pulls don’t work (on rebases, git loses track of the —prefix, so you will have a big mess in your project’s root).</p><p name="0765" id="0765" class="graf graf--p graf-after--p graf--trailing">Finally, it takes a bit of time how to understand how the commands are formatted and why there are all these options, but it is very valuable, and remove the friction from all the developers of your team.</p></div></div></section></div><footer class="u-paddingTop10"><div class="container u-maxWidth740"><div class="row"><div class="col u-size12of12"></div></div><div class="row"><div class="col u-size12of12 js-postTags"><div class="u-paddingBottom10"><ul class="tags tags--postTags tags--borderless"></ul></div></div></div><div class="postActions js-postActionsFooter "><div class="u-flexCenter"><div class="u-flex1"><div class="multirecommend js-actionMultirecommend u-flexCenter" data-post-id="6ff568381844" data-is-icon-29px="true" data-is-circle="true" data-has-recommend-list="true" data-source="post_actions_footer-----6ff568381844---------------------clap_footer" data-clap-string-singular="clap" data-clap-string-plural="claps"><div class="u-relative u-foreground"><button class="button button--large button--circle button--withChrome u-baseColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton clapButton--darker clapButton--largePill u-relative u-foreground u-xs-paddingLeft13 u-width60 u-height60 u-accentColor--textNormal u-accentColor--buttonNormal clap-onboarding"  data-action="sign-up-prompt" data-sign-in-action="multivote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/6ff568381844" data-action-source="post_actions_footer-----6ff568381844---------------------clap_footer" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--33px u-relative u-topNegative2 u-xs-top0"><svg class="svgIcon-use" width="33" height="33" ><path d="M28.86 17.342l-3.64-6.402c-.292-.433-.712-.729-1.163-.8a1.124 1.124 0 0 0-.889.213c-.63.488-.742 1.181-.33 2.061l1.222 2.587 1.4 2.46c2.234 4.085 1.511 8.007-2.145 11.663-.26.26-.526.49-.797.707 1.42-.084 2.881-.683 4.292-2.094 3.822-3.823 3.565-7.876 2.05-10.395zm-6.252 11.075c3.352-3.35 3.998-6.775 1.978-10.469l-3.378-5.945c-.292-.432-.712-.728-1.163-.8a1.122 1.122 0 0 0-.89.213c-.63.49-.742 1.182-.33 2.061l1.72 3.638a.502.502 0 0 1-.806.568l-8.91-8.91a1.335 1.335 0 0 0-1.887 1.886l5.292 5.292a.5.5 0 0 1-.707.707l-5.292-5.292-1.492-1.492c-.503-.503-1.382-.505-1.887 0a1.337 1.337 0 0 0 0 1.886l1.493 1.492 5.292 5.292a.499.499 0 0 1-.353.854.5.5 0 0 1-.354-.147L5.642 13.96a1.338 1.338 0 0 0-1.887 0 1.338 1.338 0 0 0 0 1.887l2.23 2.228 3.322 3.324a.499.499 0 0 1-.353.853.502.502 0 0 1-.354-.146l-3.323-3.324a1.333 1.333 0 0 0-1.886 0 1.325 1.325 0 0 0-.39.943c0 .356.138.691.39.943l6.396 6.397c3.528 3.53 8.86 5.313 12.821 1.353zM12.73 9.26l5.68 5.68-.49-1.037c-.518-1.107-.426-2.13.224-2.89l-3.303-3.304a1.337 1.337 0 0 0-1.886 0 1.326 1.326 0 0 0-.39.944c0 .217.067.42.165.607zm14.787 19.184c-1.599 1.6-3.417 2.392-5.353 2.392-.349 0-.7-.03-1.058-.082a7.922 7.922 0 0 1-3.667.887c-3.049 0-6.115-1.626-8.359-3.87l-6.396-6.397A2.315 2.315 0 0 1 2 19.724a2.327 2.327 0 0 1 1.923-2.296l-.875-.875a2.339 2.339 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.647l-.139-.139c-.91-.91-.91-2.39 0-3.3.884-.884 2.421-.882 3.301 0l.138.14a2.335 2.335 0 0 1 3.948-1.24l.093.092c.091-.423.291-.828.62-1.157a2.336 2.336 0 0 1 3.3 0l3.384 3.386a2.167 2.167 0 0 1 1.271-.173c.534.086 1.03.354 1.441.765.11-.549.415-1.034.911-1.418a2.12 2.12 0 0 1 1.661-.41c.727.117 1.385.565 1.853 1.262l3.652 6.423c1.704 2.832 2.025 7.377-2.205 11.607zM13.217.484l-1.917.882 2.37 2.837-.454-3.719zm8.487.877l-1.928-.86-.44 3.697 2.368-2.837zM16.5 3.293L15.478-.005h2.044L16.5 3.293z" fill-rule="evenodd"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--33px u-relative u-topNegative2 u-xs-top0"><svg class="svgIcon-use" width="33" height="33" ><g fill-rule="evenodd"><path d="M29.58 17.1l-3.854-6.78c-.365-.543-.876-.899-1.431-.989a1.491 1.491 0 0 0-1.16.281c-.42.327-.65.736-.7 1.207v.001l3.623 6.367c2.46 4.498 1.67 8.802-2.333 12.807-.265.265-.536.505-.81.728 1.973-.222 3.474-1.286 4.45-2.263 4.166-4.165 3.875-8.6 2.215-11.36zm-4.831.82l-3.581-6.3c-.296-.439-.725-.742-1.183-.815a1.105 1.105 0 0 0-.89.213c-.647.502-.755 1.188-.33 2.098l1.825 3.858a.601.601 0 0 1-.197.747.596.596 0 0 1-.77-.067L10.178 8.21c-.508-.506-1.393-.506-1.901 0a1.335 1.335 0 0 0-.393.95c0 .36.139.698.393.95v.001l5.61 5.61a.599.599 0 1 1-.848.847l-5.606-5.606c-.001 0-.002 0-.003-.002L5.848 9.375a1.349 1.349 0 0 0-1.902 0 1.348 1.348 0 0 0 0 1.901l1.582 1.582 5.61 5.61a.6.6 0 0 1-.848.848l-5.61-5.61c-.51-.508-1.393-.508-1.9 0a1.332 1.332 0 0 0-.394.95c0 .36.139.697.393.952l2.363 2.362c.002.001.002.002.002.003l3.52 3.52a.6.6 0 0 1-.848.847l-3.522-3.523h-.001a1.336 1.336 0 0 0-.95-.393 1.345 1.345 0 0 0-.949 2.295l6.779 6.78c3.715 3.713 9.327 5.598 13.49 1.434 3.527-3.528 4.21-7.13 2.086-11.015zM11.817 7.727c.06-.328.213-.64.466-.893.64-.64 1.755-.64 2.396 0l3.232 3.232c-.82.783-1.09 1.833-.764 2.992l-5.33-5.33z"/><path d="M13.285.48l-1.916.881 2.37 2.837z"/><path d="M21.719 1.361L19.79.501l-.44 3.697z"/><path d="M16.502 3.298L15.481 0h2.043z"/></g></svg></span></span></button><div class="clapUndo u-width60 u-round u-height32 u-absolute u-borderBox u-paddingRight5 u-transition--transform200Springu-backgroundGrayLighter js-clapUndo" style="top: 14px; padding: 2px;"><button class="button button--chromeless u-baseColor--buttonNormal button--withIcon button--withSvgIcon u-floatRight"  data-action="multivote-undo" data-action-value="6ff568381844"><span class="svgIcon svgIcon--removeThin svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><path d="M20.13 8.11l-5.61 5.61-5.609-5.61-.801.801 5.61 5.61-5.61 5.61.801.8 5.61-5.609 5.61 5.61.8-.801-5.609-5.61 5.61-5.61" fill-rule="evenodd"/></svg></span></button></div></div><span class="u-relative u-background js-actionMultirecommendCount u-marginLeft16"><button class="button button--chromeless u-baseColor--buttonNormal js-multirecommendCountButton u-textColorDarker"  data-action="show-recommends" data-action-value="6ff568381844">650 claps</button><span class="u-xs-hide"></span></span></div></div><div class="buttonSet u-flex0"><a class="button button--dark button--chromeless u-baseColor--buttonDark button--withIcon button--withSvgIcon button--dark button--chromeless u-xs-hide u-marginRight12"   href="https://medium.com/p/6ff568381844/share/twitter" title="Share on Twitter" aria-label="Share on Twitter" target="_blank" data-action-source="post_actions_footer"><span class="button-defaultState"><span class="svgIcon svgIcon--twitterFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><path d="M22.053 7.54a4.474 4.474 0 0 0-3.31-1.455 4.526 4.526 0 0 0-4.526 4.524c0 .35.04.7.082 1.05a12.9 12.9 0 0 1-9.3-4.77c-.39.69-.61 1.46-.65 2.26.03 1.6.83 2.99 2.02 3.79-.72-.02-1.41-.22-2.02-.57-.01.02-.01.04 0 .08-.01 2.17 1.55 4 3.63 4.44-.39.08-.79.13-1.21.16-.28-.03-.57-.05-.81-.08.54 1.77 2.21 3.08 4.2 3.15a9.564 9.564 0 0 1-5.66 1.94c-.34-.03-.7-.06-1.05-.08 2 1.27 4.38 2.02 6.94 2.02 8.31 0 12.86-6.9 12.84-12.85.02-.24.01-.43 0-.65.89-.62 1.65-1.42 2.26-2.34-.82.38-1.69.62-2.59.72a4.37 4.37 0 0 0 1.94-2.51c-.84.53-1.81.9-2.83 1.13z"/></svg></span></span></a><a class="button button--dark button--chromeless u-baseColor--buttonDark button--withIcon button--withSvgIcon button--dark button--chromeless u-xs-hide u-marginRight12"   href="https://medium.com/p/6ff568381844/share/facebook" title="Share on Facebook" aria-label="Share on Facebook" target="_blank" data-action-source="post_actions_footer"><span class="button-defaultState"><span class="svgIcon svgIcon--facebookSquare svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><path d="M23.209 5H5.792A.792.792 0 0 0 5 5.791V23.21c0 .437.354.791.792.791h9.303v-7.125H12.72v-2.968h2.375v-2.375c0-2.455 1.553-3.662 3.741-3.662 1.049 0 1.95.078 2.213.112v2.565h-1.517c-1.192 0-1.469.567-1.469 1.397v1.963h2.969l-.594 2.968h-2.375L18.11 24h5.099a.791.791 0 0 0 .791-.791V5.79a.791.791 0 0 0-.791-.79"/></svg></span></span></a><button class="button button--large button--dark button--chromeless u-baseColor--buttonDark button--withIcon button--withSvgIcon u-xs-show u-marginRight10"  title="Share this story on Twitter or Facebook" aria-label="Share this story on Twitter or Facebook" data-action="show-share-popover" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--share svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><path d="M20.385 8H19a.5.5 0 1 0 .011 1h1.39c.43 0 .84.168 1.14.473.31.305.48.71.48 1.142v10.77c0 .43-.17.837-.47 1.142-.3.305-.71.473-1.14.473H8.62c-.43 0-.84-.168-1.144-.473a1.603 1.603 0 0 1-.473-1.142v-10.77c0-.43.17-.837.48-1.142A1.599 1.599 0 0 1 8.62 9H10a.502.502 0 0 0 0-1H8.615c-.67 0-1.338.255-1.85.766-.51.51-.765 1.18-.765 1.85v10.77c0 .668.255 1.337.766 1.848.51.51 1.18.766 1.85.766h11.77c.668 0 1.337-.255 1.848-.766.51-.51.766-1.18.766-1.85v-10.77c0-.668-.255-1.337-.766-1.848A2.61 2.61 0 0 0 20.384 8zm-8.67-2.508L14 3.207v8.362c0 .27.224.5.5.5s.5-.23.5-.5V3.2l2.285 2.285a.49.49 0 0 0 .704-.001.511.511 0 0 0 0-.708l-3.14-3.14a.504.504 0 0 0-.71 0L11 4.776a.501.501 0 0 0 .71.706" fill-rule="evenodd"/></svg></span></button><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  data-action="scroll-to-responses" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--response svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><path d="M21.27 20.058c1.89-1.826 2.754-4.17 2.754-6.674C24.024 8.21 19.67 4 14.1 4 8.53 4 4 8.21 4 13.384c0 5.175 4.53 9.385 10.1 9.385 1.007 0 2-.14 2.95-.41.285.25.592.49.918.7 1.306.87 2.716 1.31 4.19 1.31.276-.01.494-.14.6-.36a.625.625 0 0 0-.052-.65c-.61-.84-1.042-1.71-1.282-2.58a5.417 5.417 0 0 1-.154-.75zm-3.85 1.324l-.083-.28-.388.12a9.72 9.72 0 0 1-2.85.424c-4.96 0-8.99-3.706-8.99-8.262 0-4.556 4.03-8.263 8.99-8.263 4.95 0 8.77 3.71 8.77 8.27 0 2.25-.75 4.35-2.5 5.92l-.24.21v.32c0 .07 0 .19.02.37.03.29.1.6.19.92.19.7.49 1.4.89 2.08-.93-.14-1.83-.49-2.67-1.06-.34-.22-.88-.48-1.16-.74z"/></svg></span></button><button class="button button--chromeless u-baseColor--buttonNormal u-marginRight12"  data-action="scroll-to-responses">15</button><button class="button button--large button--dark button--chromeless is-touchIconFadeInPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton"  title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="sign-up-prompt" data-sign-in-action="add-to-bookmarks" data-requires-token="true" data-redirect="https://medium.com/_/bookmark/p/6ff568381844" data-action-source="post_actions_footer"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--29px u-marginRight4"><svg class="svgIcon-use" width="29" height="29" ><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4zM21 23l-5.91-3.955-.148-.107a.751.751 0 0 0-.884 0l-.147.107L8 23V6.615C8 5.725 8.725 5 9.615 5h9.77C20.275 5 21 5.725 21 6.615V23z" fill-rule="evenodd"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--29px u-marginRight4"><svg class="svgIcon-use" width="29" height="29" ><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4z" fill-rule="evenodd"/></svg></span></span></button><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon js-moreActionsButton"  title="More actions" aria-label="More actions" data-action="more-actions"><span class="svgIcon svgIcon--more svgIcon--25px"><svg class="svgIcon-use" width="25" height="25"  viewBox="-480.5 272.5 21 21"><path d="M-463 284.6c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5z"/></svg></span></button></div></div></div></div><div class="u-maxWidth740 u-paddingTop20 u-marginTop20 u-borderTopLightest container u-paddingBottom20 u-xs-paddingBottom10 js-postAttributionFooterContainer"><div class="row js-postFooterInfo"><div class="col u-size12of12"><li class="uiScale uiScale-ui--small uiScale-caption--regular u-block u-paddingBottom18 js-cardUser"><div class="u-marginLeft20 u-floatRight"><span class="followState js-followState" data-user-id="1e4d0b0e4e9"><button class="button button--small u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton"  data-action="sign-up-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-redirect="https://medium.com/@v/git-subtrees-a-tutorial-6ff568381844" data-action-source="footer_card"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--small u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton"  data-action="sign-up-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/1e4d0b0e4e9" data-action-source="footer_card-1e4d0b0e4e9-------------------------follow_footer"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="u-tableCell"><a class="link u-baseColor--link avatar"   href="https://medium.com/@v?source=footer_card" title="Go to the profile of Vinícius Baggio Fuentes" aria-label="Go to the profile of Vinícius Baggio Fuentes" data-action-source="footer_card" data-user-id="1e4d0b0e4e9" dir="auto"><img  src="https://cdn-images-1.medium.com/fit/c/120/120/1*5z60psJhcc-mAOClIOStOQ.jpeg" class="avatar-image avatar-image--small" alt="Go to the profile of Vinícius Baggio Fuentes"></a></div><div class="u-tableCell u-verticalAlignMiddle u-breakWord u-paddingLeft15"><h3 class="ui-h3 u-fontSize18 u-lineHeightTighter u-marginBottom4"><a class="link link--primary u-accentColor--hoverTextNormal"   href="https://medium.com/@v" property="cc:attributionName" title="Go to the profile of Vinícius Baggio Fuentes" aria-label="Go to the profile of Vinícius Baggio Fuentes" rel="author cc:attributionUrl" data-user-id="1e4d0b0e4e9" dir="auto">Vinícius Baggio Fuentes</a></h3><p class="ui-body u-fontSize14 u-lineHeightBaseSans u-textColorDark u-marginBottom4">Breaking things on the internet. Engineer at large.</p></div></li></div></div></div><div class="js-postFooterPlacements"></div><div class="u-padding0 u-clearfix u-backgroundGrayLightest u-print-hide supplementalPostContent js-responsesWrapper"></div><div class="supplementalPostContent js-heroPromo"></div></footer></article></main><aside class="u-marginAuto u-maxWidth1000 js-postLeftSidebar"><div class="u-foreground u-top0 u-transition--fadeOut300 u-fixed u-sm-hide js-postShareWidget"><ul><li class="u-marginVertical10"><div class="multirecommend js-actionMultirecommend u-flexCenter" data-post-id="6ff568381844" data-is-icon-29px="true" data-has-recommend-list="true" data-source="post_share_widget-----6ff568381844---------------------clap_sidebar"><div class="u-relative u-foreground"><button class="button button--primary button--large button--chromeless u-accentColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton clapButton--darker"  data-action="sign-up-prompt" data-sign-in-action="multivote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/6ff568381844" data-action-source="post_share_widget-----6ff568381844---------------------clap_sidebar" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><g fill-rule="evenodd"><path d="M13.739 1l.761 2.966L15.261 1z"/><path d="M16.815 4.776l1.84-2.551-1.43-.471z"/><path d="M10.378 2.224l1.84 2.551-.408-3.022z"/><path d="M22.382 22.622c-1.04 1.04-2.115 1.507-3.166 1.608.168-.14.332-.29.492-.45 2.885-2.886 3.456-5.982 1.69-9.211l-1.101-1.937-.955-2.02c-.315-.676-.235-1.185.245-1.556a.836.836 0 0 1 .66-.16c.342.056.66.28.879.605l2.856 5.023c1.179 1.962 1.379 5.119-1.6 8.098m-13.29-.528l-5.02-5.02a1 1 0 0 1 .707-1.701c.255 0 .512.098.707.292l2.607 2.607a.442.442 0 0 0 .624-.624L6.11 15.04l-1.75-1.75a.998.998 0 1 1 1.41-1.413l4.154 4.156a.44.44 0 0 0 .624 0 .44.44 0 0 0 0-.624l-4.152-4.153-1.172-1.171a.998.998 0 0 1 0-1.41 1.018 1.018 0 0 1 1.41 0l1.172 1.17 4.153 4.152a.437.437 0 0 0 .624 0 .442.442 0 0 0 0-.624L8.43 9.222a.988.988 0 0 1-.291-.705.99.99 0 0 1 .29-.706 1 1 0 0 1 1.412 0l6.992 6.993a.443.443 0 0 0 .71-.501l-1.35-2.856c-.315-.676-.235-1.185.246-1.557a.85.85 0 0 1 .66-.16c.342.056.659.28.879.606L20.628 15c1.573 2.876 1.067 5.545-1.544 8.156-1.396 1.397-3.144 1.966-5.063 1.652-1.713-.286-3.463-1.248-4.928-2.714zM12.99 6.976l2.562 2.562c-.497.607-.563 1.414-.155 2.284l.265.562-4.257-4.257a.98.98 0 0 1-.117-.445c0-.267.104-.517.292-.706a1.023 1.023 0 0 1 1.41 0zm8.887 2.06c-.375-.557-.902-.916-1.486-1.011a1.738 1.738 0 0 0-1.342.332c-.376.29-.61.656-.712 1.065a2.1 2.1 0 0 0-1.095-.562 1.776 1.776 0 0 0-.992.128l-2.636-2.636a1.883 1.883 0 0 0-2.658 0 1.862 1.862 0 0 0-.478.847 1.886 1.886 0 0 0-2.671-.012 1.867 1.867 0 0 0-.503.909c-.754-.754-1.992-.754-2.703-.044a1.881 1.881 0 0 0 0 2.658c-.288.12-.605.288-.864.547a1.884 1.884 0 0 0 0 2.659l.624.622a1.879 1.879 0 0 0-.91 3.16l5.019 5.02c1.595 1.594 3.515 2.645 5.408 2.959a7.16 7.16 0 0 0 1.173.098c1.026 0 1.997-.24 2.892-.7.279.04.555.065.828.065 1.53 0 2.969-.628 4.236-1.894 3.338-3.338 3.083-6.928 1.738-9.166l-2.868-5.043z"/></g></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><g fill-rule="evenodd"><path d="M13.738 1l.762 2.966L15.262 1z"/><path d="M18.634 2.224l-1.432-.47-.408 3.022z"/><path d="M11.79 1.754l-1.431.47 1.84 2.552z"/><path d="M24.472 14.307l-3.023-5.32c-.287-.426-.689-.705-1.123-.776a1.16 1.16 0 0 0-.911.221c-.297.231-.474.515-.535.84.017.022.036.04.053.063l2.843 5.001c1.95 3.564 1.328 6.973-1.843 10.144a8.46 8.46 0 0 1-.549.501c1.205-.156 2.328-.737 3.351-1.76 3.268-3.268 3.041-6.749 1.737-8.914"/><path d="M14.58 10.887c-.156-.83.096-1.569.692-2.142L12.78 6.252c-.5-.504-1.378-.504-1.879 0-.178.18-.273.4-.329.63l4.008 4.005z"/><path d="M17.812 10.04c-.218-.323-.539-.55-.88-.606a.814.814 0 0 0-.644.153c-.176.137-.713.553-.24 1.566l1.43 3.025a.539.539 0 1 1-.868.612L9.2 7.378a.986.986 0 1 0-1.395 1.395l4.401 4.403a.538.538 0 1 1-.762.762L7.046 9.54 5.802 8.295a.99.99 0 0 0-1.396 0 .981.981 0 0 0 0 1.394l1.241 1.241 4.402 4.403a.537.537 0 0 1 0 .761.535.535 0 0 1-.762 0L4.89 11.696a.992.992 0 0 0-1.399-.003.983.983 0 0 0 0 1.395l1.855 1.854 2.763 2.765a.538.538 0 0 1-.76.761l-2.765-2.764a.982.982 0 0 0-1.395 0 .989.989 0 0 0 0 1.395l5.32 5.32c3.371 3.372 6.64 4.977 10.49 1.126C21.74 20.8 22.271 18 20.62 14.982l-2.809-4.942z"/></g></svg></span></span></button></div><span class="u-relative u-background js-actionMultirecommendCount u-marginLeft5"><button class="button button--chromeless u-baseColor--buttonNormal js-multirecommendCountButton"  data-action="show-recommends" data-action-value="6ff568381844">650</button></span></div></li><li class="u-marginVertical10 u-marginLeft3"><button class="button button--large button--dark button--chromeless is-touchIconFadeInPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton"  title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="sign-up-prompt" data-sign-in-action="add-to-bookmarks" data-requires-token="true" data-redirect="https://medium.com/_/bookmark/p/6ff568381844" data-action-source="post_share_widget-----6ff568381844---------------------bookmark_sidebar"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4zM21 23l-5.91-3.955-.148-.107a.751.751 0 0 0-.884 0l-.147.107L8 23V6.615C8 5.725 8.725 5 9.615 5h9.77C20.275 5 21 5.725 21 6.615V23z" fill-rule="evenodd"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4z" fill-rule="evenodd"/></svg></span></span></button></li><li class="u-marginVertical10 u-marginLeft3"><a class="button button--dark button--chromeless u-baseColor--buttonDark button--withIcon button--withSvgIcon button--dark button--chromeless"   href="https://medium.com/p/6ff568381844/share/twitter" title="Share on Twitter" aria-label="Share on Twitter" target="_blank" data-action-source="post_share_widget"><span class="button-defaultState"><span class="svgIcon svgIcon--twitterFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><path d="M22.053 7.54a4.474 4.474 0 0 0-3.31-1.455 4.526 4.526 0 0 0-4.526 4.524c0 .35.04.7.082 1.05a12.9 12.9 0 0 1-9.3-4.77c-.39.69-.61 1.46-.65 2.26.03 1.6.83 2.99 2.02 3.79-.72-.02-1.41-.22-2.02-.57-.01.02-.01.04 0 .08-.01 2.17 1.55 4 3.63 4.44-.39.08-.79.13-1.21.16-.28-.03-.57-.05-.81-.08.54 1.77 2.21 3.08 4.2 3.15a9.564 9.564 0 0 1-5.66 1.94c-.34-.03-.7-.06-1.05-.08 2 1.27 4.38 2.02 6.94 2.02 8.31 0 12.86-6.9 12.84-12.85.02-.24.01-.43 0-.65.89-.62 1.65-1.42 2.26-2.34-.82.38-1.69.62-2.59.72a4.37 4.37 0 0 0 1.94-2.51c-.84.53-1.81.9-2.83 1.13z"/></svg></span></span></a></li><li class="u-marginVertical10 u-marginLeft3"><a class="button button--dark button--chromeless u-baseColor--buttonDark button--withIcon button--withSvgIcon button--dark button--chromeless"   href="https://medium.com/p/6ff568381844/share/facebook" title="Share on Facebook" aria-label="Share on Facebook" target="_blank" data-action-source="post_share_widget"><span class="button-defaultState"><span class="svgIcon svgIcon--facebookSquare svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><path d="M23.209 5H5.792A.792.792 0 0 0 5 5.791V23.21c0 .437.354.791.792.791h9.303v-7.125H12.72v-2.968h2.375v-2.375c0-2.455 1.553-3.662 3.741-3.662 1.049 0 1.95.078 2.213.112v2.565h-1.517c-1.192 0-1.469.567-1.469 1.397v1.963h2.969l-.594 2.968h-2.375L18.11 24h5.099a.791.791 0 0 0 .791-.791V5.79a.791.791 0 0 0-.791-.79"/></svg></span></span></a></li></ul></div></aside><div class="u-fixed u-bottom0 u-width100pct u-backgroundWhite u-boxShadowTop u-borderBox u-paddingTop10 u-paddingBottom10 u-zIndexMetabar u-xs-paddingLeft10 u-xs-paddingRight10 js-stickyFooter"><div class="u-maxWidth700 u-marginAuto u-flexCenter"><div class="u-fontSize16 u-flex1 u-flexCenter"><div class="u-flex0 u-inlineBlock u-paddingRight20 u-xs-paddingRight10"><a class="link u-baseColor--link avatar u-inline"   href="https://medium.com/@v" data-action="show-user-card" data-action-value="1e4d0b0e4e9" data-action-type="hover" data-user-id="1e4d0b0e4e9" dir="auto"><img  src="https://cdn-images-1.medium.com/fit/c/80/80/1*5z60psJhcc-mAOClIOStOQ.jpeg" class="avatar-image avatar-image--smaller" alt="Go to the profile of Vinícius Baggio Fuentes"></a></div><div class="u-flex1 u-inlineBlock"><div class="u-xs-hide">Never miss a story from<strong> Vinícius Baggio Fuentes</strong>, when you sign up for Medium. <a class="link u-baseColor--link link--accent u-accentColor--textNormal u-accentColor--textDarken"   href="https://medium.com/@Medium/personalize-your-medium-experience-with-users-publications-tags-26a41ab1ee0c#.hx4zuv3mg" data-action-source="sticky_footer">Learn more</a></div><div class="u-xs-show">Never miss a story from<strong> Vinícius Baggio Fuentes</strong></div></div></div><div class="u-marginLeft50 u-xs-marginAuto"><span class="followState js-followState" data-user-id="1e4d0b0e4e9"><button class="button u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton u-uiTextSemibold u-textUppercase u-fontSize12"  data-action="sign-up-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-redirect="https://medium.com/@v/git-subtrees-a-tutorial-6ff568381844" data-action-source="sticky_footer"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary is-active u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton u-uiTextSemibold u-textUppercase u-fontSize12"  data-action="sign-up-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/1e4d0b0e4e9" data-action-source="sticky_footer-1e4d0b0e4e9-------------------------follow_metabar"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Get updates</span></button></span></div></div></div></div></div></div><div class="loadingBar"></div><script>// <![CDATA[
window["obvInit"] = function (opt_embedded) {window["obvInit"]["embedded"] = opt_embedded; window["obvInit"]["ready"] = true;}
// ]]></script><script>// <![CDATA[
var GLOBALS = {"audioUrl":"https://d1fcbxp97j4nb2.cloudfront.net","baseUrl":"https://medium.com","buildLabel":"36363-a1d5c97","currentUser":{"userId":"lo_Wnbi6rjdUH1c","isVerified":false,"subscriberEmail":"","hasPastMemberships":false,"isEnrolledInHightower":false,"isEligibleForHightower":false,"hightowerLastLockedAt":0,"isWriterProgramEnrolled":false,"isWriterProgramInvited":false,"isWriterProgramOptedOut":false,"writerProgramVersion":0,"writerProgramEnrolledAt":0,"friendLinkOnboarding":0,"hasAdditionalUnlocks":false,"hasApiAccess":false},"currentUserHasUnverifiedEmail":false,"isAuthenticated":false,"isCurrentUserVerified":false,"miroUrl":"https://cdn-images-1.medium.com","moduleUrls":{"base":"https://cdn-static-1.medium.com/_/fp/gen-js/main-base.bundle.GBlZzXySSYB0bh7kTXdLzA.js","common-async":"https://cdn-static-1.medium.com/_/fp/gen-js/main-common-async.bundle.1GJUFckWPaj3ASpX9scSJg.js","hightower":"https://cdn-static-1.medium.com/_/fp/gen-js/main-hightower.bundle.Q5gt_dHlwGNlbwgFUZourA.js","home-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-home-screens.bundle.3Jykped22wMZnKNac6RPpw.js","misc-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-misc-screens.bundle.4BynnRvx5hOQWrl0qfR4Mw.js","notes":"https://cdn-static-1.medium.com/_/fp/gen-js/main-notes.bundle.M-5aoku7Xmh7z_rjXc9ciA.js","payments":"https://cdn-static-1.medium.com/_/fp/gen-js/main-payments.bundle.F064-Bxe98LXZiC7tPpLqQ.js","posters":"https://cdn-static-1.medium.com/_/fp/gen-js/main-posters.bundle.EUk73YtNNDS5ZyGn6y3yPA.js","power-readers":"https://cdn-static-1.medium.com/_/fp/gen-js/main-power-readers.bundle.euOfzGWscThmhkW6Bt7tuQ.js","pubs":"https://cdn-static-1.medium.com/_/fp/gen-js/main-pubs.bundle.M89aw0fPCEUhwpOvc0hRDg.js","stats":"https://cdn-static-1.medium.com/_/fp/gen-js/main-stats.bundle.GzVFek9LkMOL_xGU8krWYQ.js"},"previewConfig":{"weightThreshold":1,"weightImageParagraph":0.51,"weightIframeParagraph":0.8,"weightTextParagraph":0.08,"weightEmptyParagraph":0,"weightP":0.003,"weightH":0.005,"weightBq":0.003,"minPTextLength":60,"truncateBoundaryChars":20,"detectTitle":true,"detectTitleLevThreshold":0.15},"productName":"Medium","supportsEdit":false,"termsUrl":"//medium.com/policy/9db0094a1e0f","textshotHost":"textshot.medium.com","transactionId":"1548842645815:47979e404f36","useragent":{"browser":"wget","family":"","os":"","version":1.2,"supportsDesktopEdit":false,"supportsInteract":false,"supportsView":true,"isMobile":false,"isTablet":false,"isNative":false,"supportsFileAPI":false,"isTier1":false,"clientVersion":"","unknownParagraphsBad":false,"clientChannel":"","supportsRealScrollEvents":false,"supportsVhUnits":false,"ruinsViewportSections":false,"supportsHtml5Video":false,"supportsMagicUnderlines":false,"isWebView":false,"isFacebookWebView":false,"supportsProgressiveMedia":false,"supportsPromotedPosts":true,"isBot":false,"isNativeIphone":false,"supportsCssVariables":false,"supportsVideoSections":true,"emojiSupportLevel":1,"isSearchBot":false,"isSyndicationBot":false,"isNativeAndroid":false,"supportsScrollableMetabar":false},"variants":{"allow_access":true,"allow_signup":true,"allow_test_auth":"disallow","signin_services":"twitter,facebook,google,email,google-fastidv,google-one-tap","signup_services":"twitter,facebook,google,email,google-fastidv,google-one-tap","google_sign_in_android":true,"reengagement_notification_duration":3,"browsable_stream_config_bucket":"curated-topics","enable_dedicated_series_tab_api_ios":true,"enable_post_import":true,"available_monthly_plan":"60e220181034","available_annual_plan":"2c754bcc2995","disable_ios_resume_reading_toast":true,"is_not_medium_subscriber":true,"glyph_font_set":"m2","enable_branding":true,"enable_branding_fonts":true,"enable_fastrak_rollout_invited_users":true,"enable_friend_link_onboarding":true,"max_premium_content_per_user_under_metering":3,"enable_automated_mission_control_triggers":true,"enable_top_stories_for_you":true,"enable_lite_profile":true,"enable_topic_lifecycle_email":true,"enable_marketing_emails":true,"enable_truncated_rss_for_tags_and_topics":true,"enable_parsely":true,"enable_branch_io":true,"enable_synchronous_parsely":true,"enable_ios_post_stats":true,"enable_lite_topics":true,"enable_lite_stories":true,"redis_read_write_splitting":true,"enable_tipalti_onboarding":true,"enable_annual_renewal_reminder_email":true,"enable_janky_spam_rules":"users,posts","enable_new_collaborative_filtering_data":true,"android_rating_prompt_stories_read_threshold":2,"enable_gifting_flow":true,"enable_smart_meter_with_incentive":true,"stripe_v3":true,"enable_google_one_tap":true,"enable_email_sign_in_captcha":true,"enable_social_shares_in_new_tab":true,"enable_resending_stories_three_times":true,"enable_primary_topic_for_mobile":true},"xsrfToken":"","iosAppId":"828256236","supportEmail":"yourfriends@medium.com","fp":{"/icons/monogram-mask.svg":"https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg","/icons/favicon-dev-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-dev-editor.YKKRxBO8EMvIqhyCwIiJeQ.ico","/icons/favicon-hatch-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-hatch-editor.BuEyHIqlyh2s_XEk4Rl32Q.ico","/icons/favicon-medium-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-medium-editor.PiakrZWB7Yb80quUVQWM6g.ico"},"authBaseUrl":"https://medium.com","imageUploadSizeMb":25,"isAuthDomainRequest":true,"algoliaApiEndpoint":"https://MQ57UUUQZ2-dsn.algolia.net","algoliaAppId":"MQ57UUUQZ2","algoliaSearchOnlyApiKey":"394474ced050e3911ae2249ecc774921","iosAppStoreUrl":"https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8","iosAppLinkBaseUrl":"medium:","algoliaIndexPrefix":"medium_","androidPlayStoreUrl":"https://play.google.com/store/apps/details?id=com.medium.reader","googleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","androidPackage":"com.medium.reader","androidPlayStoreMarketScheme":"market://details?id=com.medium.reader","googleAuthUri":"https://accounts.google.com/o/oauth2/auth","androidScheme":"medium","layoutData":{"useDynamicScripts":false,"googleAnalyticsTrackingCode":"UA-24232453-2","jsShivUrl":"https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js","useDynamicCss":false,"faviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico","faviconImageId":"1*8I-HPL0bfoIzGied-dzOvA.png","fontSets":[{"id":8,"url":"https://glyph.medium.com/css/e/sr/latin/e/ssr/latin/e/ssb/latin/m2.css"},{"id":11,"url":"https://glyph.medium.com/css/m2.css"},{"id":9,"url":"https://glyph.medium.com/css/mkt.css"}],"editorFaviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium-editor.3Y6xpZ-0FSdWDnPM3hSBIA.ico","glyphUrl":"https://glyph.medium.com"},"authBaseUrlRev":"moc.muidem//:sptth","isDnt":false,"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","archiveUploadSizeMb":100,"paymentData":{"currencies":{"1":{"label":"US Dollar","external":"usd"}},"countries":{"1":{"label":"United States of America","external":"US"}},"accountTypes":{"1":{"label":"Individual","external":"individual"},"2":{"label":"Company","external":"company"}}},"previewConfig2":{"weightThreshold":1,"weightImageParagraph":0.05,"raiseImage":true,"enforceHeaderHierarchy":true,"isImageInsetRight":true},"isAmp":false,"iosScheme":"medium","isSwBoot":false,"lightstep":{"accessToken":"ce5be895bef60919541332990ac9fef2","carrier":"{\"ot-tracer-spanid\":\"2a0ceb7b07aa0d6c\",\"ot-tracer-traceid\":\"128803da7a0d4941\",\"ot-tracer-sampled\":\"true\"}","host":"collector-medium.lightstep.com"},"facebook":{"key":"542599432471018","namespace":"medium-com","scope":{"default":["public_profile","email"],"connect":["public_profile","email"],"login":["public_profile","email"],"share":["public_profile","email"]}},"editorsPicksTopicId":"3985d2a191c5","popularOnMediumTopicId":"9d34e48ecf94","memberContentTopicId":"13d7efd82fb2","audioContentTopicId":"3792abbd134","brandedSequenceId":"7d337ddf1941","isDoNotAuth":false,"goldfinchUrl":"https://goldfinch.medium.com","buggle":{"url":"https://buggle.medium.com","videoUrl":"https://cdn-videos-1.medium.com","audioUrl":"https://cdn-audio-1.medium.com"},"referrerType":5,"isMeteredOut":false,"meterConfig":{"maxUnlockCount":3,"windowLength":"MONTHLY"},"partnerProgramEmail":"partnerprogram@medium.com","userResearchPrompts":[{"promptId":"lo_post_page_4","type":0,"url":"www.calendly.com"},{"promptId":"lo_home_page","type":1,"url":"www.calendly.com"},{"promptId":"lo_profile_page","type":2,"url":"www.calendly.com"}],"recaptchaKey":"6LdAokEUAAAAAC7seICd4vtC8chDb3jIXDQulyUJ","signinWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"countryCode":"DE","bypassMeter":false,"branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","paypal":{"clientMode":"production","oneYearGift":{"name":"Medium Membership (1 Year, Digital Gift Code)","description":"Unlimited access to the best and brightest stories on Medium. Gift codes can be redeemed at medium.com/redeem.","price":"50.00","currency":"USD","sku":"membership-gift-1-yr"}}}
// ]]></script><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/gen-js/main-base.bundle.GBlZzXySSYB0bh7kTXdLzA.js" async></script><script>// <![CDATA[
window["obvInit"]({"value":{"id":"6ff568381844","versionId":"94c5eb025387","creatorId":"1e4d0b0e4e9","creator":{"userId":"1e4d0b0e4e9","name":"Vinícius Baggio Fuentes","username":"v","createdAt":1352437568754,"imageId":"1*5z60psJhcc-mAOClIOStOQ.jpeg","backgroundImageId":"1*i0YxKa_DTg6fSt8rNhas5Q.jpeg","bio":"Breaking things on the internet. Engineer at large.","twitterScreenName":"vinibaggio","socialStats":{"userId":"1e4d0b0e4e9","usersFollowedCount":635,"usersFollowedByCount":1350,"type":"SocialStats"},"social":{"userId":"lo_Wnbi6rjdUH1c","targetUserId":"1e4d0b0e4e9","type":"Social"},"facebookAccountId":"100000393703774","allowNotes":1,"mediumMemberAt":0,"isNsfw":false,"type":"User"},"homeCollectionId":"","title":"git subtrees: a tutorial","detectedLanguage":"en","latestVersion":"94c5eb025387","latestPublishedVersion":"94c5eb025387","hasUnpublishedEdits":false,"latestRev":181,"createdAt":1398457362508,"updatedAt":1529493929172,"acceptedAt":0,"firstPublishedAt":1400087760720,"latestPublishedAt":1422981978335,"vote":false,"experimentalCss":"","displayAuthor":"","content":{"subtitle":"Scenarios on git subtrees","bodyModel":{"paragraphs":[{"name":"title","type":2,"text":"git subtrees: a tutorial","markups":[]},{"name":"subtitle","type":13,"text":"Scenarios on git subtrees","markups":[]},{"name":"cc2e","type":1,"text":"This is a tutorial on how to use git subtrees. In this example, we will work on “parent”, the repository that consumes a library called “my-subproject”. To understand why you would use git subtrees, read my article Modularizing Medium’s iOS codebase.","markups":[{"type":3,"start":215,"end":249,"href":"https://medium.com/p/8f8f26965c76","title":"","rel":""}]},{"name":"c1ae","type":1,"text":"There is a repo called “parent” and we are about to import a library called “my-subproject”. Here’s how they look:","markups":[]},{"name":"2304","type":1,"text":"parent:","markups":[{"type":1,"start":0,"end":7}]},{"name":"4f1a","type":4,"text":"Parent’s commits","markups":[],"layout":1,"metadata":{"id":"1*ukY5jD9s3hdlos_qUCX87g.png"}},{"name":"6008","type":4,"text":"Parent’s files","markups":[],"layout":1,"metadata":{"id":"1*l4IoeRa16jb9jwn5eZJkaw.png"}},{"name":"e90e","type":1,"text":"my-subproject:","markups":[{"type":1,"start":0,"end":14}]},{"name":"3d86","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*NSCl1YErXGdWbDu--6eYXw.png"}},{"name":"c9a7","type":1,"text":"my-subproject’s commits","markups":[{"type":2,"start":0,"end":23}]},{"name":"6e04","type":4,"text":"my-subproject’s file","markups":[],"layout":1,"metadata":{"id":"1*vsxYr60JBJLJC4lvOghRZg.png"}},{"name":"1e8b","type":1,"text":"Observe that I added [parent] and [vinibaggio/my-subproject] to the commit titles, manually, just to improve visibility of where these commits are coming from.","markups":[]},{"name":"37fb","type":1,"text":"Now, I want to add my-subproject to parent, using git subtrees. To do that, I have to use a command called “git subtree add”:","markups":[{"type":1,"start":50,"end":64}]},{"name":"40d8","type":8,"text":"git remote add my-subtree git@github.com:vinibaggio/my-subproject.git\ngit subtree add —-prefix=vendor/ my-subtree master","markups":[]},{"name":"4d88","type":1,"text":"Notice that I added the library’s remote as if it was my own. This will significantly simplify the commands, so that I don’t have to specify the repository’s address all the time. Then, you use subtree add to add that repo’s code into a path in the parent’s project, specified by prefix. The last parameter, master, is the branch you are pulling code from (my-subtree/master).","markups":[{"type":1,"start":194,"end":206},{"type":1,"start":280,"end":288},{"type":1,"start":308,"end":314}]},{"name":"e260","type":1,"text":"Now, add the origin and then add the subtree will look like this:","markups":[]},{"name":"a11a","type":4,"text":"","markups":[],"layout":3,"metadata":{"id":"1*0ROYrrYp1Jj0KH_m-O6yrQ.png"}},{"name":"549e","type":1,"text":"After pushing to master, here’s how parent looks:","markups":[{"type":1,"start":36,"end":43}]},{"name":"85c2","type":4,"text":"Parent, after adding the subtree","markups":[],"layout":1,"metadata":{"id":"1*UdN0fmd50GutD04Psc2oAg.png"}},{"name":"6213","type":4,"text":"parent/vendor","markups":[],"layout":1,"metadata":{"id":"1*swnWCkQQTpGJgDBTV2sEYQ.png"}},{"name":"7d51","type":4,"text":"Note how the commits are interwoven. Also, initial commit is the commit generated by Github","markups":[],"layout":1,"metadata":{"id":"1*XqIwX3FhyR9PTxdtNiw2EA.png"}},{"name":"9685","type":1,"text":"No changes were done to my-subproject.","markups":[{"type":1,"start":24,"end":38}]},{"name":"1146","type":13,"text":"Changing my-subproject from parent","markups":[{"type":1,"start":0,"end":34}]},{"name":"fe09","type":1,"text":"Now I need to get some work done, so I add new files to my-subproject and add them to my project, working directly from parent:","markups":[{"type":1,"start":120,"end":126}]},{"name":"747e","type":4,"text":"","markups":[],"layout":3,"metadata":{"id":"1*ZWVE9u9b8q5yNpyQSd7B3w.png"}},{"name":"0c9a","type":1,"text":"After pushing to parent, here’s how both parent and my-subproject look:","markups":[{"type":1,"start":17,"end":23}]},{"name":"fa86","type":1,"text":"parent:","markups":[{"type":1,"start":0,"end":7}]},{"name":"8c06","type":4,"text":"Parent with the new commit","markups":[],"layout":1,"metadata":{"id":"1*SwcWOICLUnN84enA3Z7Tcg.png"}},{"name":"5635","type":1,"text":"my-subproject has no changes:","markups":[{"type":1,"start":0,"end":14}]},{"name":"1e46","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*c96lCnpDAQJM_fpUgtbjDQ.png"}},{"name":"977e","type":1,"text":"You can keep working on the parent project as much as you need to. For instance, I am going to create a commit that has changes both in parent andmy-subproject:","markups":[{"type":1,"start":136,"end":143},{"type":1,"start":146,"end":160}]},{"name":"7244","type":4,"text":"","markups":[],"layout":3,"metadata":{"id":"1*KaxgIgIsPnd8xwNrmHalcg.png"}},{"name":"6806","type":1,"text":"Now we want to be good people and contribute our changes to the library back to the original repository, which doesn’t need to happen too often. But when it does, you have to use git subtree push. Let’s push our changes back to my-subproject:","markups":[{"type":1,"start":179,"end":197},{"type":1,"start":228,"end":241}]},{"name":"76d5","type":4,"text":"","markups":[],"layout":3,"metadata":{"id":"1*CI2IjR9cSFZAsgMLUqo6AQ.png"}},{"name":"214c","type":1,"text":"See those -n 1…5 lines? This is git going through the commits and picking the changes that should go to the repo. At the end, there are two commits that needs to be pushed to vinny-some-awesome-work, in the library directory. But! What happens to the other files, outside of the prefix directory? It gets filtered out.","markups":[]},{"name":"e24b","type":1,"text":"Let’s open a pull request in my-subproject from this branch and observe the changes:","markups":[]},{"name":"a7d3","type":4,"text":"The PR. There are no actual changes since all the files are blank","markups":[],"layout":1,"metadata":{"id":"1*j6703oPWVeSloiTqgWWQqA.png"}},{"name":"aaad","type":1,"text":"Let’s see the changed files:","markups":[]},{"name":"0dff","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*kVmH9UKoQANCjbkPsc9_Hw.png"}},{"name":"be9b","type":1,"text":"It seems everything we expected, so I merge the project.","markups":[]},{"name":"df3e","type":13,"text":"Bringing updates from my-subproject back to parent","markups":[{"type":1,"start":0,"end":50}]},{"name":"9fdf","type":1,"text":"Imagine that someone made awesome contributions to my-subproject and you want to pull these new changes back into parent:","markups":[{"type":1,"start":51,"end":65}]},{"name":"993c","type":4,"text":"Pushing new changes to my-subproject directly","markups":[],"layout":3,"metadata":{"id":"1*a86NjGQlMqbPWcdGOdziDA.png"}},{"name":"8aa5","type":1,"text":"Now, I am in my feature branch and created these two commits:","markups":[]},{"name":"47f5","type":8,"text":"f455188 Implementing feature\na75255c Introducing bug","markups":[]},{"name":"e4fb","type":1,"text":"Let’s import our new changes with git pull:","markups":[{"type":1,"start":34,"end":42}]},{"name":"d794","type":8,"text":" git subtree pull —prefix=vendor my-subtree master","markups":[]},{"name":"cd1d","type":1,"text":"This will execute a pull, using the “subtree” merge strategy. It is necessary so we tell git to inspect the patches and identify it should be applying in a subtree of our current project (parent). Quoting the Git handbook: “it’s pretty amazing”.","markups":[{"type":3,"start":209,"end":221,"href":"http://git-scm.com/book/ch6-7.html","title":"","rel":"nofollow"},{"type":1,"start":188,"end":197}]},{"name":"f981","type":1,"text":"This will generate a merge commit, like so (note that I customized the merge commit message):","markups":[]},{"name":"d719","type":4,"text":"pulling changes from my-subproject into parent","markups":[],"layout":3,"metadata":{"id":"1*bqmBo6P4Nk461ViQ7grM4g.png"}},{"name":"8a11","type":1,"text":"This is the end result of merging this branch into master.","markups":[{"type":1,"start":51,"end":58}]},{"name":"5a3e","type":4,"text":"State of master","markups":[],"layout":3,"metadata":{"id":"1*sEUDJWvTDUT_y20dxDl1tg.png"}},{"name":"3f78","type":1,"text":"Notice the commits near the highlighted area. See that the commits are repeated? This is git doing its magic on the pull with subtree strategy. It will bring all the commits from the other repo and will stay together with your own repo’s versions of it.","markups":[{"type":1,"start":158,"end":162}]},{"name":"9ba5","type":1,"text":"For this reason, it’s good practice to use the “squash” option when merging changes back. I reverted the changes so parent#master looks like this:","markups":[]},{"name":"de4b","type":4,"text":"Master reverted","markups":[],"layout":1,"metadata":{"id":"1*cZQmZc2q25txX9YpsAreKA.png"}},{"name":"ce37","type":1,"text":"I then recreated the branch “vinny-feature” with the same commits, but now using the squash flag:","markups":[]},{"name":"f808","type":8,"text":"git subtree pull —prefix=vendor —squash my-subtree master","markups":[]},{"name":"c6e5","type":1,"text":"After merging, this is how master looks:","markups":[{"type":1,"start":27,"end":34}]},{"name":"cd08","type":4,"text":"State of master after merging","markups":[],"layout":1,"metadata":{"id":"1*FYnAJ01pZgH2jtdcKXRVpQ.png"}},{"name":"9d6d","type":1,"text":"Long story short, if you pull changes, make sure you merge the commits with squash. Another good practice to avoid this repetition is to, whenever you make changes to the subprojects, make individual commits. This is not obligatory, but it will make sure there is no repetition of commit names, and also, when pushed back to the original repository, they will make sense on their own.","markups":[]},{"name":"4e99","type":13,"text":"Advantages of using subtrees","markups":[{"type":1,"start":0,"end":28}]},{"name":"c48c","type":1,"text":"The advantages of subtrees over submodules are mostly related to work flow. Since subtrees require no change to the project’s workflow and lack of necessity of introducing new commands, it makes the life of the developers much, much easier. Merge conflicts will make (more) sense and they’re much easier to work with.","markups":[]},{"name":"7635","type":13,"text":"Caveats","markups":[{"type":1,"start":0,"end":7}]},{"name":"8fcf","type":1,"text":"Contributing back and forth between repos is definitely more complicated. To simplify potential merge conflicts, pulling changes from the libraries should be done in separate pull requests. Also, rebasing after subtree pulls don’t work (on rebases, git loses track of the —prefix, so you will have a big mess in your project’s root).","markups":[]},{"name":"0765","type":1,"text":"Finally, it takes a bit of time how to understand how the commands are formatted and why there are all these options, but it is very valuable, and remove the friction from all the developers of your team.","markups":[]}],"sections":[{"name":"27fc","startIndex":0},{"name":"7fab","startIndex":3},{"name":"d159","startIndex":15}]},"postDisplay":{"coverless":true}},"virtuals":{"allowNotes":true,"previewImage":{"imageId":"1*ukY5jD9s3hdlos_qUCX87g.png","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"wordCount":895,"imageCount":20,"readingTime":5.127358490566038,"subtitle":"Scenarios on git subtrees","usersBySocialRecommends":[],"noIndex":false,"recommends":183,"socialRecommends":[],"isBookmarked":false,"tags":[],"socialRecommendsCount":0,"responsesCreatedCount":15,"links":{"entries":[{"url":"https://medium.com/p/8f8f26965c76","alts":[{"type":2,"url":"medium://p/8f8f26965c76"},{"type":3,"url":"medium://p/8f8f26965c76"}]}],"version":"0.3","generatedAt":1471925138979},"isLockedPreviewOnly":false,"takeoverId":"","metaDescription":"","totalClapCount":650,"sectionCount":3,"readingList":0,"topics":[]},"coverless":true,"slug":"git-subtrees-a-tutorial","translationSourcePostId":"","translationSourceCreatorId":"","isApprovedTranslation":false,"inResponseToPostId":"","inResponseToRemovedAt":0,"isTitleSynthesized":false,"allowResponses":true,"importedUrl":"","importedPublishedAt":0,"visibility":0,"uniqueSlug":"git-subtrees-a-tutorial-6ff568381844","previewContent":{"bodyModel":{"paragraphs":[{"name":"title","type":2,"text":"git subtrees: a tutorial","markups":[],"alignment":1},{"name":"subtitle","type":13,"text":"Scenarios on git subtrees","markups":[],"alignment":1},{"name":"cc2e","type":1,"text":"This is a tutorial on how to use git subtrees. In this example, we will work on “parent”, the repository that consumes a library called “my-subproject”. To understand why you would use git subtrees, read my article…","markups":[],"alignment":1}],"sections":[{"startIndex":0}]},"isFullContent":false,"subtitle":"Scenarios on git subtrees"},"license":0,"inResponseToMediaResourceId":"","canonicalUrl":"https://medium.com/@v/git-subtrees-a-tutorial-6ff568381844","approvedHomeCollectionId":"","newsletterId":"","webCanonicalUrl":"https://medium.com/@v/git-subtrees-a-tutorial-6ff568381844","mediumUrl":"https://medium.com/@v/git-subtrees-a-tutorial-6ff568381844","migrationId":"","notifyFollowers":true,"notifyTwitter":false,"notifyFacebook":false,"responseHiddenOnParentPostAt":0,"isSeries":false,"isSubscriptionLocked":false,"seriesLastAppendedAt":0,"audioVersionDurationSec":0,"sequenceId":"","isNsfw":false,"isEligibleForRevenue":false,"isBlockedFromHightower":false,"deletedAt":0,"lockedPostSource":0,"hightowerMinimumGuaranteeStartsAt":0,"hightowerMinimumGuaranteeEndsAt":0,"featureLockRequestAcceptedAt":0,"mongerRequestType":1,"layerCake":0,"socialTitle":"","socialDek":"","editorialPreviewTitle":"","editorialPreviewDek":"","curationEligibleAt":0,"type":"Post"},"mentionedUsers":[],"collaborators":[],"collectionUserRelations":[],"mode":null,"references":{"User":{"1e4d0b0e4e9":{"userId":"1e4d0b0e4e9","name":"Vinícius Baggio Fuentes","username":"v","createdAt":1352437568754,"imageId":"1*5z60psJhcc-mAOClIOStOQ.jpeg","backgroundImageId":"1*i0YxKa_DTg6fSt8rNhas5Q.jpeg","bio":"Breaking things on the internet. Engineer at large.","twitterScreenName":"vinibaggio","socialStats":{"userId":"1e4d0b0e4e9","usersFollowedCount":635,"usersFollowedByCount":1350,"type":"SocialStats"},"social":{"userId":"lo_Wnbi6rjdUH1c","targetUserId":"1e4d0b0e4e9","type":"Social"},"facebookAccountId":"100000393703774","allowNotes":1,"mediumMemberAt":0,"isNsfw":false,"type":"User"}},"Social":{"1e4d0b0e4e9":{"userId":"lo_Wnbi6rjdUH1c","targetUserId":"1e4d0b0e4e9","type":"Social"}},"SocialStats":{"1e4d0b0e4e9":{"userId":"1e4d0b0e4e9","usersFollowedCount":635,"usersFollowedByCount":1350,"type":"SocialStats"}}}})
// ]]></script><script id="parsely-cfg" src="//d1z2jf7jlzjs58.cloudfront.net/keys/medium.com/p.js"></script><script type="text/javascript">(function(b,r,a,n,c,h,_,s,d,k){if(!b[n]||!b[n]._q){for(;s<_.length;)c(h,_[s++]);d=r.createElement(a);d.async=1;d.src="https://cdn.branch.io/branch-latest.min.js";k=r.getElementsByTagName(a)[0];k.parentNode.insertBefore(d,k);b[n]=h}})(window,document,"script","branch",function(b,r){b[r]=function(){b._q.push([r,arguments])}},{_q:[],_v:1},"addListener applyCode autoAppIndex banner closeBanner closeJourney creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode trackCommerceEvent logEvent".split(" "), 0); branch.init('key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm', {'no_journeys': true, 'disable_exit_animation': true, 'disable_entry_animation': true}, function(err, data) {});</script></body></html>